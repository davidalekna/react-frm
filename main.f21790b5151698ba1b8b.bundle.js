(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1083:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const React=__webpack_require__(1),antd_1=__webpack_require__(175),formElements_1=__webpack_require__(174);exports.TextArea=function TextArea({label:label,showError:showError=!0,meta:meta,...field}){return React.createElement(formElements_1.StyledLabel,null,label&&React.createElement(formElements_1.FormLabel,null,label),React.createElement(antd_1.Input.TextArea,Object.assign({rows:4},field)),React.createElement(formElements_1.FieldErrors,{errors:meta&&meta.errors}))}},1084:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const React=__webpack_require__(1),antd_1=__webpack_require__(175),formElements_1=__webpack_require__(174);exports.DatePicker=function DatePicker({label:label,meta:meta,showError:showError=!0,...field}){return React.createElement(formElements_1.StyledLabel,null,label&&React.createElement(formElements_1.FormLabel,null,label),React.createElement(antd_1.DatePicker,{onChange:date=>field.onChange({name:field.name,value:date})}),React.createElement(formElements_1.FieldErrors,{errors:meta&&meta.errors}))}},1085:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const React=__webpack_require__(1),antd_1=__webpack_require__(175),formElements_1=__webpack_require__(174);exports.Checkbox=function Checkbox({label:label,meta:meta,showError:showError=!0,...field}){return React.createElement(formElements_1.StyledLabel,null,label&&React.createElement(formElements_1.FormLabel,null,label),React.createElement(antd_1.Checkbox,{defaultChecked:field.checked,checked:field.value,onChange:evt=>field.onChange({name:field.name,value:evt.target.checked})},field.label),React.createElement(formElements_1.FieldErrors,{errors:meta&&meta.errors}))}},1086:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const React=__webpack_require__(1),antd_1=__webpack_require__(175),formElements_1=__webpack_require__(174);exports.Select=function Select({label:label,meta:meta,showError:showError=!0,...field}){const innerEvent=value=>field.onChange({name:field.name,value:value});return React.createElement(formElements_1.StyledLabel,null,label&&React.createElement(formElements_1.FormLabel,null,label),React.createElement(antd_1.Select,Object.assign({},field,{defaultValue:null,onChange:innerEvent,onBlur:innerEvent}),field.options.map(option=>React.createElement(antd_1.Select.Option,{key:option.value,value:option.value},option.value))),React.createElement(formElements_1.FieldErrors,{errors:meta&&meta.errors}))}},1087:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});const React=__webpack_require__(1),react_1=__webpack_require__(214),index_1=__webpack_require__(259),ShowDocs_1=__webpack_require__(497),renderFields_1=__webpack_require__(1088),fields_1=__webpack_require__(498),Demo=()=>{return React.createElement("div",{style:{padding:"20px 50px"}},React.createElement(index_1.Form,{initialFields:fields_1.default,onSubmit:values=>{console.log(values)}},({fields:fields,handleSubmit:handleSubmit,reset:reset,touched:touched})=>React.createElement("form",{onSubmit:evt=>handleSubmit(evt)},React.createElement("fieldset",null,React.createElement("legend",null,"Async Validation"),renderFields_1.renderFields({fields:fields}),React.createElement("br",null),React.createElement("div",null,React.createElement("button",{type:"submit",disabled:!touched},"Submit"),React.createElement("button",{type:"button",onClick:()=>reset()},"reset"))))))};react_1.storiesOf("async validation",module).add("Docs",()=>React.createElement(ShowDocs_1.default,{md:__webpack_require__(575)})).add("Demo",()=>React.createElement(Demo,null))}).call(this,__webpack_require__(74)(module))},1088:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const React=__webpack_require__(1),types_1=__webpack_require__(499);exports.renderFields=function renderFields({fields:fields=[]}){return fields.map(field=>{switch(field.type){case"textarea":return React.createElement(types_1.TextArea,Object.assign({rows:4},field));case"date":return React.createElement(types_1.DatePicker,Object.assign({},field));case"checkbox":return React.createElement(types_1.Checkbox,Object.assign({},field));case"select":return React.createElement(types_1.Select,Object.assign({},field));default:return React.createElement(types_1.Text,Object.assign({},field))}}).map((f,key)=>({...f,key:key}))}},174:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"StyledLabel",function(){return StyledLabel}),__webpack_require__.d(__webpack_exports__,"FormLabel",function(){return FormLabel}),__webpack_require__.d(__webpack_exports__,"FieldErrors",function(){return FieldErrors}),__webpack_require__.d(__webpack_exports__,"FieldLoader",function(){return FieldLoader});__webpack_require__(254),__webpack_require__(255),__webpack_require__(190);var react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),styled_components__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(151);function _templateObject4(){var data=_taggedTemplateLiteral(["\n  width: ",";\n  height: ",";\n  &:before {\n    content: '';\n    box-sizing: border-box;\n    display: inline-block;\n    position: ",";\n    top: ",";\n    left: ",";\n    width: ",";\n    height: ",";\n    margin-top: ",";\n    margin-left: ",";\n    border-radius: 50%;\n    border: "," solid transparent;\n    border-top: 3px solid #ccc;\n    animation: "," 500ms linear infinite;\n  }\n"]);return _templateObject4=function(){return data},data}function _templateObject3(){var data=_taggedTemplateLiteral(["\n  to {transform: rotate(360deg);}\n"]);return _templateObject3=function(){return data},data}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  font-weight: 400;\n  margin: 4px 0;\n"]);return _templateObject2=function(){return data},data}function _templateObject(){var data=_taggedTemplateLiteral([""]);return _templateObject=function(){return data},data}function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var StyledLabel=styled_components__WEBPACK_IMPORTED_MODULE_4__.default.label(_templateObject()),FormLabel=styled_components__WEBPACK_IMPORTED_MODULE_4__.default.div(_templateObject2());function FieldErrors(_ref){var _ref$errors=_ref.errors,errors=void 0===_ref$errors?[]:_ref$errors;return errors.length?react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("ul",null,errors.map(function(err,key){return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("li",{key:key,style:{color:"violet"}},err)})):null}var spin=Object(styled_components__WEBPACK_IMPORTED_MODULE_4__.keyframes)(_templateObject3()),Spinner=styled_components__WEBPACK_IMPORTED_MODULE_4__.default.span(_templateObject4(),function(props){return props.size?"".concat(props.size,"px"):"32px"},function(props){return props.size?"".concat(props.size,"px"):"32px"},function(props){return props.inline?"relative":"absolute"},function(props){return props.inline?"0":"50%"},function(props){return props.inline?"0":"50%"},function(props){return void 0===props.size?"16px":"".concat(props.size,"px")},function(props){return void 0===props.size?"16px":"".concat(props.size,"px")},function(props){return void 0===props.size?"-8px":"-".concat(props.size/2,"px")},function(props){return void 0===props.size?"-8px":"-".concat(props.size/2,"px")},function(){return"2px"},spin),FieldLoader=function(_ref2){var children=_ref2.children,loading=_ref2.loading;return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div",{style:{position:"relative"}},loading&&react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(Spinner,{size:16,style:{position:"absolute",right:10,zIndex:1,top:0,bottom:0,margin:"auto 0"}}),children)};FieldLoader.displayName="FieldLoader",FieldErrors.__docgenInfo={description:"",methods:[],displayName:"FieldErrors",props:{errors:{defaultValue:{value:"[]",computed:!1},required:!1,flowType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/__stories__/components/formElements/index.js"]={name:"FieldErrors",docgenInfo:FieldErrors.__docgenInfo,path:"src/__stories__/components/formElements/index.js"}),FieldLoader.__docgenInfo={description:"",methods:[],displayName:"FieldLoader"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/__stories__/components/formElements/index.js"]={name:"FieldLoader",docgenInfo:FieldLoader.__docgenInfo,path:"src/__stories__/components/formElements/index.js"})},196:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UPDATE="@@frm/UPDATE",exports.FIELD_BLUR="@@frm/FIELD_BLUR",exports.FIELD_ERROR_UPDATE="@@frm/FIELD_ERROR_UPDATE",exports.ERROR="@@frm/ERROR",exports.FIELD_FOCUS="@@frm/FIELD_FOCUS",exports.ERRORS="@@frm/ERRORS",exports.FORM_RESET="@@frm/FORM_RESET",exports.FORM_SUBMIT="@@frm/FORM_SUBMIT",exports.fieldUpdate=function fieldUpdate({name:name,value:value}){return{type:exports.UPDATE,payload:{name:name,value:value}}},exports.fieldBlur=function fieldBlur({index:index,item:item}){return{type:exports.FIELD_BLUR,payload:{index:index,item:item}}},exports.fieldFocus=function fieldFocus(name){return{type:exports.FIELD_FOCUS,payload:{name:name}}},exports.formReset=function formReset(){return{type:exports.FORM_RESET}},exports.formSubmit=function formSubmit(state,onSubmit){return{type:exports.FORM_SUBMIT,payload:state,onSubmit:onSubmit}},exports.formErrors=function formErrors(state){return{type:exports.ERRORS,payload:state}},exports.fieldErrorUpdate=function fieldErrorUpdate(field){return{type:exports.FIELD_ERROR_UPDATE,payload:field}}},259:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const React=__webpack_require__(1),lodash_1=__webpack_require__(260),reducer_1=__webpack_require__(496),useObservable_1=__webpack_require__(764),actions_1=__webpack_require__(196);function useFormContext(){const context=React.useContext(exports.FormContext);if(!context)throw new Error("Form compound components cannot be rendered outside the Form component");return context}exports.FormContext=React.createContext({fields:[],handleSubmit:()=>{},reset:()=>{},touched:!1}),exports.Form=function Form({children:children,initialFields:initialFields=[],onSubmit:onSubmit=(()=>{})}){const{state:state,dispatch:dispatch}=useObservable_1.default(function transformFields(initialFields){const meta={touched:!1,loading:!1,errors:[]};return lodash_1.cloneDeep(initialFields.map(({requirements:requirements,...field})=>Array.isArray(requirements)&&requirements.filter(fn=>"function"==typeof fn).filter(Boolean).length>0?{...field,requirements:requirements,meta:meta}:{...field,meta:meta}))}(initialFields)),onChange=input=>{"target"in input?(({target:target})=>{if(!target.name)throw Error("no input name");dispatch(actions_1.fieldUpdate({name:target.name,value:"checkbox"===target.type?target.checked:target.value}))})(input):(({name:name,value:value})=>{if(!name)throw Error("no input name");dispatch(actions_1.fieldUpdate({name:name,value:value}))})(input)},onBlurAction=(name,findByName)=>{if(!name)throw Error("no input name");const{index:index,item:item}=findByName(name);dispatch(actions_1.fieldBlur({index:index,item:item}))},onBlur=input=>{const findByName=reducer_1.getFromStateByName(state);if("target"in input){const{target:target}=input;onBlurAction(target.name,findByName)}else{const{name:name}=input;onBlurAction(name,findByName)}},onFocus=input=>{if("target"in input){const{target:target}=input;if(!target.name)throw Error("no input name");dispatch(actions_1.fieldFocus(target.name))}else{const{name:name}=input;if(!name)throw Error("no input name");dispatch(actions_1.fieldFocus(name))}},fns={handleSubmit:evt=>{evt.preventDefault(),dispatch(actions_1.formSubmit(state,onSubmit))},reset:()=>{dispatch(actions_1.formReset())},touched:!!state.find(field=>field.meta&&field.meta.touched)},fieldsWithHandlers=state.map(({requirements:requirements,...field})=>({...field,onBlur:onBlur,onFocus:onFocus,onChange:onChange})),ui="function"==typeof children?children({fields:fieldsWithHandlers,...fns}):children;return React.createElement(exports.FormContext.Provider,{value:{fields:fieldsWithHandlers,...fns}},ui)},exports.useFormContext=useFormContext,exports.MemoField=React.memo(({children:children,render:render,field:field})=>{if(children&&render)throw Error("children and render cannot be used together!");const{requirements:requirements,...fieldProps}=field;return render?render(fieldProps):children(fieldProps)},({field:prevField},{field:nextField})=>lodash_1.isEqual([prevField.value,prevField.meta],[nextField.value,nextField.meta])),exports.Field=(({name:name,children:children,render:render})=>{const{fields:fields}=useFormContext(),field=fields.find(f=>f.name===name);if(children&&render)throw Error("children and render cannot be used together!");if(!field){const hasMatch=fields.find(f=>f.name.includes(name));throw hasMatch?Error(`Field with name ${name} doesn\`t exist, did you mean ${hasMatch.name}?`):Error(`Field with name ${name} doesn\`t exist.`)}return React.useMemo(()=>{const{requirements:requirements,...fieldProps}=field;return render?render(fieldProps):children?children(fieldProps):void 0},[field.value,field.meta.touched,field.meta.loading,field.meta.errors.length])})},496:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const lodash_1=__webpack_require__(260),actions_1=__webpack_require__(196);exports.getFromStateByName=(state=>itemName=>{let itemIndex=0;const item=state.find(({name:name},index)=>(itemIndex=index,name===itemName));if(!item)throw Error(`input name ${itemName} doesnt exist on provided fields`);return{item:item,index:itemIndex}});exports.default=(initialState=>(state,action)=>{const findByName=exports.getFromStateByName(state);switch(action.type){case actions_1.UPDATE:{const{item:item,index:index}=findByName(action.payload.name),newItem=Object.assign(item,action.payload);return newItem.meta.errors=[],state[index]=newItem,lodash_1.cloneDeep(state)}case actions_1.ERROR:case actions_1.FIELD_BLUR:{const{index:index,item:item}=action.payload;return state[index]=item,lodash_1.cloneDeep(state)}case actions_1.FIELD_FOCUS:{const{name:name,loading:loading}=action.payload,{item:item,index:index}=findByName(name);return state[index]=lodash_1.merge(item,{meta:{touched:!0,loading:loading}}),lodash_1.cloneDeep(state)}case actions_1.FIELD_ERROR_UPDATE:{const{index:index,item:item}=action.payload;return state[index]=item,lodash_1.cloneDeep(state)}case actions_1.ERRORS:return lodash_1.cloneDeep(action.payload);case actions_1.FORM_RESET:return lodash_1.cloneDeep(initialState);case actions_1.FORM_SUBMIT:return lodash_1.cloneDeep(action.payload);default:return state}})},497:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const h=__webpack_require__(1).createElement;exports.default=(props=>h("div",{},h("div",{style:{padding:"0 20px"},dangerouslySetInnerHTML:{__html:props.md}}),h("style",{dangerouslySetInnerHTML:{__html:"\n@import url(http://fonts.googleapis.com/css?family=Merriweather:300italic,300);\nh1, h1 code, h2, h2 code, h3, h3 code, h4, h4 code {\n  color: #333;\n}\nhtml {\n  font-size: 16px;\n  max-width: 700px;\n  margin: auto;\n}\nbody {\n  color: #444;\n  font-family: 'Merriweather', Georgia, serif;\n  max-width: 700px;\n  margin: auto;\n}\n/* === A bit of a gross hack so we can have bleeding divs/blockquotes. */\ndiv {\n  width: 100%;\n}\ndiv img {\n  width: 100%;\n}\nblockquote p {\n  font-size: 1.5rem;\n  font-style: italic;\n  margin: 1rem auto 1rem;\n  max-width: 48rem;\n}\nli {\n  margin-left: 2rem;\n}\n/* Counteract the specificity of the gross *:not() chain. */\nh1 {\n  padding: 1m 0 !important;\n}\n/*  === End gross hack */\np {\n  color: #555;\n  height: auto;\n  line-height: 1.45;\n}\npre, code {\n  font-family: Menlo, Monaco, \"Courier New\", monospace;\n  color: #42b983;\n}\npre, pre code {\n  color: #000;\n}\npre {\n  background-color: #fafafa;\n  font-size: .8rem;\n  overflow-x: scroll;\n  padding: 1.125em;\n}\na, a pre, a code,\na:visited {\n  color: #3498db;\n}\na:hover,\na:focus,\na:active {\n  color: #2980b9;\n}\n        "}})))},498:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.usernameAvailable=(async value=>{if(!value)return"Required";await(ms=>new Promise(resolve=>setTimeout(resolve,ms)))(2e3);return["john","paul","george","ringo"].includes(value.toLowerCase())?"Username taken!":void 0}),exports.notEmpty=(value=>value.length<1?"Cannot be empty":void 0),exports.mustContainLetter=(letter=>value=>value.includes(letter)?void 0:`Must contain letter ${letter}`),exports.default=[{label:"Username",value:"",name:"username",type:"text",requirements:[exports.mustContainLetter("e"),exports.usernameAvailable]},{label:"First Name",value:"",placeholder:"Donald",name:"firstName",type:"text",requirements:[exports.notEmpty,exports.mustContainLetter("e"),exports.usernameAvailable]},{label:"Last Name",value:"",placeholder:"Trump",name:"lastName",type:"text",requirements:[!1,"jaksbdkjsa",void 0,null,12344]},{label:"Date of Birth",value:"",name:"dob",type:"date"},{label:"Line 1",value:"",name:"address.line_1",type:"text"},{label:"Line 2",value:"",name:"address.line_2",type:"text"},{label:"City",value:"",name:"address.city",type:"text"},{label:"Postcode",value:"",name:"address.postcode",type:"text"},{label:"Favourite Fruit",value:"",name:"faveFruit",type:"select",options:[{value:"grapefruit"},{value:"lime"},{value:"coconut"},{value:"mango"}]},{label:"Leave a comment",value:"",name:"comment",type:"textarea"}]},499:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(770),__webpack_require__(500),__webpack_require__(786),__webpack_require__(792),__export(__webpack_require__(795)),__export(__webpack_require__(1083)),__export(__webpack_require__(1084)),__export(__webpack_require__(1085)),__export(__webpack_require__(1086))},575:function(module,exports){module.exports="something will be written here\n"},607:function(module,exports,__webpack_require__){__webpack_require__(608),__webpack_require__(694),module.exports=__webpack_require__(695)},695:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(163),__webpack_require__(164),__webpack_require__(162),__webpack_require__(188);var _storybook_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(214),req=__webpack_require__(762);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_4__.configure)(function(){req.keys().forEach(function(filename){return req(filename)})},module)}.call(this,__webpack_require__(696)(module))},762:function(module,exports,__webpack_require__){var map={"./custom.story.tsx":763,"./simple.story.tsx":1087};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=762},763:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});const React=__webpack_require__(1),react_1=__webpack_require__(214),index_1=__webpack_require__(259),ShowDocs_1=__webpack_require__(497),fields_1=__webpack_require__(498),styled_components_1=__webpack_require__(151),types_1=__webpack_require__(499),Grid=styled_components_1.default.div`
  display: grid;
  grid-gap: 10px 10px;
  padding: 20px;
  grid-template-columns: 1fr 1fr 1fr;
  grid-template-rows: 1fr;
`,Demo=()=>{return React.createElement(index_1.Form,{initialFields:fields_1.default,onSubmit:values=>{console.log(values)}},({handleSubmit:handleSubmit,reset:reset,touched:touched})=>React.createElement("form",{onSubmit:handleSubmit},React.createElement("fieldset",null,React.createElement("legend",null,"Render Props"),React.createElement(Grid,null,React.createElement(index_1.Field,{name:"username",render:props=>React.createElement(types_1.Text,Object.assign({style:{gridColumnStart:"1",gridColumnEnd:"span 2"}},props))}),React.createElement(index_1.Field,{name:"firstName",render:props=>React.createElement(types_1.Text,Object.assign({},props))}),React.createElement(index_1.Field,{name:"lastName",render:props=>React.createElement(types_1.Text,Object.assign({},props))}),React.createElement(index_1.Field,{name:"address.line_1",render:props=>React.createElement(types_1.Text,Object.assign({},props))}),React.createElement(index_1.Field,{name:"address.line_2",render:props=>React.createElement(types_1.Text,Object.assign({},props))}),React.createElement(index_1.Field,{name:"address.city",render:props=>React.createElement(types_1.Text,Object.assign({},props))}),React.createElement(index_1.Field,{name:"address.postcode",render:props=>React.createElement(types_1.Text,Object.assign({style:{gridColumnStart:"2",gridColumnEnd:"span 2"}},props))})),React.createElement("br",null),React.createElement("div",null,React.createElement("button",{type:"submit",disabled:!touched},"Submit"),React.createElement("button",{type:"button",onClick:()=>reset()},"reset")))))};react_1.storiesOf("custom layout",module).add("Docs",()=>React.createElement(ShowDocs_1.default,{md:__webpack_require__(575)})).add("Demo",()=>React.createElement(Demo,null))}).call(this,__webpack_require__(74)(module))},764:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__webpack_require__(1),rxjs_1=__webpack_require__(577),operators_1=__webpack_require__(431),epics_1=__webpack_require__(765),reducer_1=__webpack_require__(496),action$=new rxjs_1.Subject;exports.default=((initialState,outsideEpics=[])=>{const[state,update]=react_1.useState(initialState),combinedEpics=epics_1.combineEpics(epics_1.fieldBlurEpic,epics_1.validateAllFieldsEpic,...outsideEpics);return react_1.useEffect(()=>{const s=combinedEpics(action$).pipe(operators_1.scan(reducer_1.default(initialState),initialState)).subscribe(update);return()=>s.unsubscribe()},[action$]),{state:state,dispatch:next=>action$.next(next)}})},765:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const rxjs_1=__webpack_require__(577),actions_1=__webpack_require__(196),actions_2=__webpack_require__(196),operators_1=__webpack_require__(431),helpers_1=__webpack_require__(766),fieldValidator=action$=>operators_1.switchMap(({payload:payload})=>{const requests=payload.item.requirements.filter(fn=>"function"==typeof fn).map(fn=>rxjs_1.from(Promise.resolve(fn(payload.item.value)))).filter(Boolean);return rxjs_1.of(...requests).pipe(operators_1.mergeAll(),operators_1.scan((allResponses,currentResponse)=>[...allResponses,currentResponse],[]),operators_1.mergeMap(errors=>rxjs_1.of(actions_2.fieldErrorUpdate({...payload,item:{...payload.item,meta:{...payload.item.meta,loading:requests.length!==errors.length,errors:errors.filter(Boolean)}}}))),operators_1.takeUntil(rxjs_1.merge(action$.pipe(helpers_1.ofType(actions_1.FORM_RESET)),action$.pipe(helpers_1.ofType(actions_1.UPDATE),operators_1.filter(innerAction=>innerAction.payload.name===payload.item.name))).pipe(operators_1.mapTo({type:"cancel-request"}))))});exports.fieldBlurEpic=function fieldBlurEpic(action$){return action$.pipe(helpers_1.ofType(actions_1.FIELD_BLUR),operators_1.mergeMap(action=>rxjs_1.of(action).pipe(operators_1.filter(({payload:payload})=>Array.isArray(payload.item.requirements)&&payload.item.requirements.length),fieldValidator(action$))))},exports.validateAllFieldsEpic=function validateAllFieldsEpic(action$){return action$.pipe(helpers_1.ofType(actions_1.FORM_SUBMIT),operators_1.debounceTime(250),operators_1.switchMap(({payload:payload,onSubmit:onSubmit})=>{const errorsBuffer=[],state$=payload.map((item,index)=>rxjs_1.of({index:index,item:item}));return rxjs_1.from(state$).pipe(operators_1.mergeMap(field=>field.pipe(operators_1.filter(({item:item})=>Array.isArray(item.requirements)&&item.requirements.length),operators_1.map(field=>({payload:field})),fieldValidator(action$),operators_1.tap(err=>(errorsBuffer.push(err.payload.item),helpers_1.allErrorsEmitted(payload,errorsBuffer.length)&&helpers_1.containsNoErrors(errorsBuffer)&&onSubmit(helpers_1.extractFinalValues(payload)))))))}))},exports.combineEpics=((...epics)=>(...streams)=>rxjs_1.merge(streams[0],...epics.map(epic=>{const output$=epic(...streams);if(!output$)throw new TypeError(`combineEpics: one of the provided Epics "${epic.name||"<anonymous>"}" does not return a stream. Double check you're not missing a return statement!`);return output$})))},766:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const operators_1=__webpack_require__(431),lodash_1=__webpack_require__(260),createObject=obj=>{if(!obj)return{};const getNestedObject=obj=>Object.entries(obj).reduce((result,[prop,val])=>(prop.split(".").reduce((nestedResult,prop,propIndex,propArray)=>{const lastProp=propIndex===propArray.length-1;return nestedResult[prop]=lastProp?(obj=>!!obj&&obj.constructor==={}.constructor)(val)?getNestedObject(val):val:nestedResult[prop]||{},nestedResult[prop]},result),result),{});return getNestedObject(obj)},isBoolean=val=>"boolean"==typeof val;exports.ofType=function ofType(actionType){return operators_1.filter(({type:type})=>type===actionType)},exports.containsNoErrors=function containsNoErrors(fields){return 0===fields.map(field=>field.meta.errors).reduce((acc,val)=>acc.concat(val),[]).length},exports.extractFinalValues=function extractFinalValues(state){return state.reduce((acc,field)=>field.value&&!isBoolean(field.value)||isBoolean(field.value)?lodash_1.merge(acc,createObject({[field.name]:field.value})):acc,{})},exports.allErrorsEmitted=function allErrorsEmitted(state,totalErrors){return state.filter(item=>item.requirements).reduce((acc,val)=>acc.concat(val.requirements),[]).length===totalErrors}},795:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const React=__webpack_require__(1),antd_1=__webpack_require__(175),index_1=__webpack_require__(259),formElements_1=__webpack_require__(174);exports.Text=function Text(field){return React.createElement(index_1.MemoField,{field:field},({label:label,type:type,meta:meta,style:style,...field})=>React.createElement(formElements_1.StyledLabel,{style:style},label&&React.createElement(formElements_1.FormLabel,null,label),React.createElement(formElements_1.FieldLoader,{loading:meta.loading},React.createElement(antd_1.Input,Object.assign({type:type},field))),React.createElement(formElements_1.FieldErrors,{errors:meta&&meta.errors})))}},846:function(module,exports,__webpack_require__){var map={"./af":275,"./af.js":275,"./ar":276,"./ar-dz":277,"./ar-dz.js":277,"./ar-kw":278,"./ar-kw.js":278,"./ar-ly":279,"./ar-ly.js":279,"./ar-ma":280,"./ar-ma.js":280,"./ar-sa":281,"./ar-sa.js":281,"./ar-tn":282,"./ar-tn.js":282,"./ar.js":276,"./az":283,"./az.js":283,"./be":284,"./be.js":284,"./bg":285,"./bg.js":285,"./bm":286,"./bm.js":286,"./bn":287,"./bn.js":287,"./bo":288,"./bo.js":288,"./br":289,"./br.js":289,"./bs":290,"./bs.js":290,"./ca":291,"./ca.js":291,"./cs":292,"./cs.js":292,"./cv":293,"./cv.js":293,"./cy":294,"./cy.js":294,"./da":295,"./da.js":295,"./de":296,"./de-at":297,"./de-at.js":297,"./de-ch":298,"./de-ch.js":298,"./de.js":296,"./dv":299,"./dv.js":299,"./el":300,"./el.js":300,"./en-SG":301,"./en-SG.js":301,"./en-au":302,"./en-au.js":302,"./en-ca":303,"./en-ca.js":303,"./en-gb":304,"./en-gb.js":304,"./en-ie":305,"./en-ie.js":305,"./en-il":306,"./en-il.js":306,"./en-nz":307,"./en-nz.js":307,"./eo":308,"./eo.js":308,"./es":309,"./es-do":310,"./es-do.js":310,"./es-us":311,"./es-us.js":311,"./es.js":309,"./et":312,"./et.js":312,"./eu":313,"./eu.js":313,"./fa":314,"./fa.js":314,"./fi":315,"./fi.js":315,"./fo":316,"./fo.js":316,"./fr":317,"./fr-ca":318,"./fr-ca.js":318,"./fr-ch":319,"./fr-ch.js":319,"./fr.js":317,"./fy":320,"./fy.js":320,"./ga":321,"./ga.js":321,"./gd":322,"./gd.js":322,"./gl":323,"./gl.js":323,"./gom-latn":324,"./gom-latn.js":324,"./gu":325,"./gu.js":325,"./he":326,"./he.js":326,"./hi":327,"./hi.js":327,"./hr":328,"./hr.js":328,"./hu":329,"./hu.js":329,"./hy-am":330,"./hy-am.js":330,"./id":331,"./id.js":331,"./is":332,"./is.js":332,"./it":333,"./it-ch":334,"./it-ch.js":334,"./it.js":333,"./ja":335,"./ja.js":335,"./jv":336,"./jv.js":336,"./ka":337,"./ka.js":337,"./kk":338,"./kk.js":338,"./km":339,"./km.js":339,"./kn":340,"./kn.js":340,"./ko":341,"./ko.js":341,"./ku":342,"./ku.js":342,"./ky":343,"./ky.js":343,"./lb":344,"./lb.js":344,"./lo":345,"./lo.js":345,"./lt":346,"./lt.js":346,"./lv":347,"./lv.js":347,"./me":348,"./me.js":348,"./mi":349,"./mi.js":349,"./mk":350,"./mk.js":350,"./ml":351,"./ml.js":351,"./mn":352,"./mn.js":352,"./mr":353,"./mr.js":353,"./ms":354,"./ms-my":355,"./ms-my.js":355,"./ms.js":354,"./mt":356,"./mt.js":356,"./my":357,"./my.js":357,"./nb":358,"./nb.js":358,"./ne":359,"./ne.js":359,"./nl":360,"./nl-be":361,"./nl-be.js":361,"./nl.js":360,"./nn":362,"./nn.js":362,"./pa-in":363,"./pa-in.js":363,"./pl":364,"./pl.js":364,"./pt":365,"./pt-br":366,"./pt-br.js":366,"./pt.js":365,"./ro":367,"./ro.js":367,"./ru":368,"./ru.js":368,"./sd":369,"./sd.js":369,"./se":370,"./se.js":370,"./si":371,"./si.js":371,"./sk":372,"./sk.js":372,"./sl":373,"./sl.js":373,"./sq":374,"./sq.js":374,"./sr":375,"./sr-cyrl":376,"./sr-cyrl.js":376,"./sr.js":375,"./ss":377,"./ss.js":377,"./sv":378,"./sv.js":378,"./sw":379,"./sw.js":379,"./ta":380,"./ta.js":380,"./te":381,"./te.js":381,"./tet":382,"./tet.js":382,"./tg":383,"./tg.js":383,"./th":384,"./th.js":384,"./tl-ph":385,"./tl-ph.js":385,"./tlh":386,"./tlh.js":386,"./tr":387,"./tr.js":387,"./tzl":388,"./tzl.js":388,"./tzm":389,"./tzm-latn":390,"./tzm-latn.js":390,"./tzm.js":389,"./ug-cn":391,"./ug-cn.js":391,"./uk":392,"./uk.js":392,"./ur":393,"./ur.js":393,"./uz":394,"./uz-latn":395,"./uz-latn.js":395,"./uz.js":394,"./vi":396,"./vi.js":396,"./x-pseudo":397,"./x-pseudo.js":397,"./yo":398,"./yo.js":398,"./zh-cn":399,"./zh-cn.js":399,"./zh-hk":400,"./zh-hk.js":400,"./zh-tw":401,"./zh-tw.js":401};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=846}},[[607,1,2]]]);
//# sourceMappingURL=main.f21790b5151698ba1b8b.bundle.js.map